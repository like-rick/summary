<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // https://leetcode-cn.com/problems/search-in-rotated-sorted-array/
        /**
        * @param {number[]} nums
        * @param {number} target
        * @return {number}
        */
        // 给你一个整数数组 nums ，和一个整数 target 。

        // 该整数数组原本是按升序排列，但输入时在预先未知的某个点上进行了旋转。（例如，数组 [0,1,2,4,5,6,7] 
        // 可能变为 [4,5,6,7,0,1,2] ）。
        // 请你在数组中搜索 target ，如果数组中存在这个目标值，则返回它的索引，否则返回 -1 。
        var search = function(nums, target) {
            let low = 0, high = nums.length - 1;
            while (low <= high) {
                let mid = Math.floor((high + low) / 2);
                if (nums[mid] == target) {
                    return mid;
                } else if (nums[mid] < nums[high]) {
                    if (nums[mid] < target && target <= nums[high]) {
                        low = mid + 1;
                    } else {
                        high = mid - 1;
                    }
                } else {
                    if (nums[mid] > target && nums[low] <= target) {
                        high = mid - 1;
                    } else {
                        low = mid + 1;
                    }
                }
            }
            return -1;
        };

        console.log(search([4,5,6,7,0,1,2], 5))
    </script>
</body>
</html>