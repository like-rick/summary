<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // 非递减数列
        // https://leetcode-cn.com/problems/non-decreasing-array/

        /*
            给你一个长度为 n 的整数数组，请你判断在 最多 改变 1 个元素的情况下，该数组能否变成一个非递减数列。
            我们是这样定义一个非递减数列的： 对于数组中所有的 i (0 <= i <= n-2)，总满足 nums[i] <= nums[i + 1]。
        */
       // 解题思路：
       // 1. 对于数组元素小于等于两个的，肯定可以变成非递减数列
       // 2. 对数组进行遍历，当出现当前元素(i)大于后一个元素时(i+1)，则说明当前已经出现一个逆序了
       // 此时有两种情况： 2.1 => 3,4,2,3 这种情况下，i + 1也是小于i - 1的，需要将 i + 1变成 下标i对应的值
       // 2.2 => 2,4,3,2，这种情况下，变不变都行
        function fn(nums) {
            let len = nums.length;
            if (len <= 2) return true;
            let i = 0, count = 0;
            for (; i < len - 1; i++) {
                if (nums[i] > nums[i + 1]) {
                    count++;
                    if (i > 0 && nums[i + 1] < nums[i - 1]) {
                       nums[i + 1] = nums[i]
                    }
                }
            }
            return count < 2;
        }
        console.log(fn([2,4,3,5]))
    </script>
</body>
</html>