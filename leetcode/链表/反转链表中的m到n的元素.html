<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        function Node(val) {
            this.val = val;
            this.next = null;
        }

        function buildLink(arr) {
            var head = new Node(arr[0]), ans = head;
            for (var i = 1; i < arr.length; i++) {
                head.next = new Node(arr[i]);
                head = head.next;
            }
            return ans;
        }

        var arr = [1,2,3,4,5];
        var link = buildLink(arr);
        /**
         * Definition for singly-linked list.
         * function ListNode(val) {
         *     this.val = val;
         *     this.next = null;
         * }
         */
        /**
         * @param {ListNode} head
         * @param {number} m
         * @param {number} n
         * @return {ListNode}
         */
        var reverseBetween = function(head, m, n) {
            if (head == null) return head;
            var dummpy = new Node(0);
            dummpy.next = head;
            var index = 1, a = null, b = null, c = null, d = null, cur = dummpy.next, pre = null;
            while(cur) {
                var next = cur.next;
                if (index > m && index <= n) {
                    cur.next = pre;
                }
                if (index == m - 1) {
                    a = cur;
                }
                if (index == m) {
                    b = cur;
                }
                if (index == n ) {
                    c = cur;
                }
                if (index == n + 1) {
                    d = cur;
                }
                index++;
                pre = cur;
                cur = next;
            }
            (a || dummpy).next = c;
            b.next = d;
            return dummpy.next;
        };

        console.log(reverseBetween(link, 2, 4))
    </script>
</body>
</html>